- Effect: "Allow"
  Action:
    - "dynamodb:DescribeTable"
    - "dynamodb:Query"
    - "dynamodb:Scan"
    - "dynamodb:GetItem"
    - "dynamodb:PutItem"
    - "dynamodb:UpdateItem"
    - "dynamodb:DeleteItem"
    - "dynamodb:BatchWriteItem"
  Resource:
    - Fn::Join:
      - ":"
      - - "arn:aws:dynamodb"
        - Ref: "AWS::Region"
        - Ref: "AWS::AccountId"
        - Fn::Join:
          - "/"
          - - "table"
            - "${self:custom.dynamoTableNameProgram}"
    - Fn::Join:
      - ":"
      - - "arn:aws:dynamodb"
        - Ref: "AWS::Region"
        - Ref: "AWS::AccountId"
        - Fn::Join:
          - "/"
          - - "table"
            - "${self:custom.dynamoTableNameProgramHistory}"
