{
	// Use IntelliSense to learn about possible attributes.
	// Hover to view descriptions of existing attributes.
	// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
	"version": "0.2.0",
	"configurations": [
		{
			"type": "node-terminal",
			"request": "launch",
			"name": "Launch Program",
			"skipFiles": [
				"<node_internals>/**"
			],
			"command": "npm start",
			"preLaunchTask": "tsc: build - tsconfig.json",
			"outFiles": [
				"${workspaceFolder}/dist/**/*.js"
			],
			"env": {
				"AWS_REGION":     "eu-west-1",
				"AWS_ENDPOINT":   "http://localhost:8000",
				"STAGE":          "lcl",
				"NODE_LOG_LEVEL": "debug",
				"AUTH_URI":       "http://localhost:3013/sso",
			}
		},
		{
			"type": "node",
			"request": "launch",
			"name": "Unit Tests",
			"program": "${workspaceFolder}/node_modules/ts-mocha/bin/ts-mocha",
			//"runtimeExecutable": "ts-mocha",
			//"runtimeVersion": "22.14.0",
			"env": {
				"NODE_ENV":        "test-unit",
				"TS_NODE_PROJECT": "./tsconfig-unittest.json",
				"LOG_COLOURS":     "true",
			},
			"args": [
				"-u",
				"bdd",
				"--timeout",
				"999999",
				"--colors",
				//"${workspaceFolder}/test/unit/**/*.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_date_utils.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_http_utils_priv.spec.ts",
				"${workspaceFolder}/test/unit/**/gip_http_utils.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_browser_utils.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_db_utils.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_prog_db_utils.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_prog_fields.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_prog_filter_utils.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_prog_title_utils.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_program_edit_input.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_program_edit_options.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_program_item.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_action_buttons.spec.tsx",
			],
			"outputCapture": "std",
		},
		{
			"type": "node",
			"request": "launch",
			"name": "Unit Test Coverage",
			"program": "${workspaceFolder}/node_modules/nyc/bin/nyc",
			//"runtimeExecutable": "ts-mocha",
			//"runtimeVersion": "22.14.0",
			"env": {
				"NODE_ENV":        "test-unit",
				"TS_NODE_PROJECT": "./tsconfig-unittest.json",
				"LOG_COLOURS":     "true",
			},
			"args": [
				//"--reporter=html",
				"ts-mocha",
				"--timeout",
				"999999",
				"--colors",
				//"${workspaceFolder}/test/unit/**/*.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_date_utils.spec.ts",
				"${workspaceFolder}/test/unit/**/gip_http_utils.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_http_utils_priv.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_browser_utils.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_db_utils.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_prog_db_utils.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_prog_fields.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_prog_filter_utils.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_prog_title_utils.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_program_edit_input.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_program_edit_options.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_program_item.spec.ts",
				//"${workspaceFolder}/test/unit/**/gip_action_buttons.spec.tsx",
			],
			"outputCapture": "std",
		},
		{
			"type": "node",
			"request": "launch",
			"name": "API System Test",
			"skipFiles": [
				"<node_internals>/**"
			],
			"program": "${workspaceFolder}/test/system/api/gip_db_dynamodb_utils.spec.js",
			"preLaunchTask": "tsc: build - tsconfig-systemtest.json",
			"outFiles": ["${workspaceFolder}/test-out/**/*.js"],
			"env": {
				"AWS_REGION":       "eu-west-1",
				"AWS_ENDPOINT":     "http://localhost:8000",
				"STAGE":            "dev",
				"GIP_MAX_PROGRAMS": "20",
			}
		},
		{
			"type": "node",
			"request": "launch",
			"name": "Create Tables",
			"program": "${workspaceFolder}/test/dynamodb/dynCreateTables",
			"args": [
				"--exec"
			]
		},
		{
			"type": "node",
			"request": "launch",
			"name": "Delete Tables",
			"program": "${workspaceFolder}/test/dynamodb/dynDeleteTables",
			"args": [
				"--exec"
			]
		},
		{
			"type": "node-terminal",
			"request": "launch",
			"name": "Deploy",
			"skipFiles": [
				"<node_internals>/**"
			],
			"command": "npx sls deploy",
			"preLaunchTask": "tsc: build - tsconfig.json",
			"outFiles": [
				"${workspaceFolder}/dist/**/*.js"
			],
			"env": {
				"AWS_REGION":     "eu-west-1",
				"STAGE":          "dev",
				"NODE_LOG_LEVEL": "info"
			}
		},
		{
			"type": "node-terminal",
			"name": "Clean",
			"request": "launch",
			"preLaunchTask": "clean",
			"command": "exit",
		},
	]
}
